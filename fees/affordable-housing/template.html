<!-- ko if: state === 'form' -->
<form>
    <div class="form-group">
        <h4>Method of Compliance</h4>

        <label for="exemptFromAffordableHousingFee">This project fulfills affordable housing requirements</label>&nbsp;&nbsp;
        <input type="checkbox"  aria-hidden="true" id="exemptFromAffordableHousingFee" data-bind="checked: fee.exemptFromAffordableHousingFee, checkedUpdate: 'keyup'">
        <!-- ko if: !fee.exemptFromAffordableHousingFee() -->
        <hr>

        <h4>Date of Application</h4>
        <label> Complete EEA was accepted:</label>

        <div>
            <input type="radio" aria-hidden="true" id="EEARadioAfter16" value="EEARadioAfter16" name="EEADate" data-bind="checked: fee.EEADate">
            &nbsp;&nbsp;
            <label for="rentalRadio">On or After 1/12/2016</label>
        </div>
        <div>
            <input type="radio"  aria-hidden="true" id="EEARadio16" value="EEARadio16" name="EEADate" data-bind="checked: fee.EEADate">
            &nbsp;&nbsp;
            <label for="rentalRadio">Before 1/12/2016</label>
        </div>
        <div>
            <input type="radio"  aria-hidden="true" id="EEARadio15" value="EEARadio15" name="EEADate" data-bind="checked: fee.EEADate">
            &nbsp;&nbsp;
            <label for="ownershipRadio">Before 1/1/2015</label>
        </div>
        <div>
            <input type="radio"  aria-hidden="true" id="EEARadio14" value="EEARadio14" name="EEADate" data-bind="checked: fee.EEADate">
            &nbsp;&nbsp;
            <label for="rentalRadio">Before 1/1/2014</label>
        </div>
        <div>
            <input type="radio"  aria-hidden="true" id="EEARadio13" value="EEARadio13" name="EEADate" data-bind="checked: fee.EEADate">
            &nbsp;&nbsp;
            <label for="ownershipRadio">Before 1/1/2013</label>
        </div>


        <hr>

        <h4>Project Tenure</h4>
        <div>
            <input type="radio"  aria-hidden="true" id="rentalRadio" value="rental" name="ownershipType" data-bind="checked: fee.ownershipType">
            &nbsp;&nbsp;
            <label for="rentalRadio">Rental</label>
        </div>
        <div>
            <input type="radio"  aria-hidden="true" id="ownershipRadio" value="ownership" name="ownershipType" data-bind="checked: fee.ownershipType">
            &nbsp;&nbsp;
            <label for="ownershipRadio">Ownership</label>
        </div>

        <!-- ko if: fee.easternElligible() -->
        <hr>
        <div>
            <label for="payEasternFee">Pay Eastern Neighborhoods Alternate Affordable Housing Fee</label>&nbsp;&nbsp;
            <input type="checkbox"  aria-hidden="true" id="payEasternFee" data-bind="checked: fee.payEasternFee, checkedUpdate: 'keyup'">
        </div>
            <!-- ko if: fee.payEasternFee() -->
            <div class="eastern-affordable-fee-form">
                (Fee must be manually calculated. Details are available <a href="http://library.amlegal.com/nxt/gateway.dll/California/planning/article4developmentimpactfeesandprojectr?f=templates$fn=default.htm$3.0$vid=amlegal:sanfrancisco_ca$anc=JD_417" target="_blank">here</a>)
            </div>
            <br>
            <label for="easternAffordableFee">Eastern Neighborhoods Alternate Affordable Housing Fee ($)</label>
            <input type="number" class="form-control" id="easternAffordableFee" data-bind="value: fee.easternAffordableFee, valueUpdate: 'keyup'">

            <!-- /ko -->
        <!-- /ko -->

        <!-- /ko -->
    </div>
</form>
<!-- /ko -->

<!-- ko if: state === 'report' && fee.triggered() -->
<!-- ko if: !fee.exemptFromAffordableHousingFee() -->
<div class="affordable-fee-name">
    Fee Applied:
    <span data-bind="text: fee.feeApplied"></span>
</div>
    <!-- ko if: fee.feeApplied() !== 'Eastern Neighborhoods Alternate Affordable Housing Fee' -->
    <table class="table">
        <thead>
            <tr>
                <th>Residential GFA</th>
                <th></th>
                <th>Applicable fee percentage</th>
                <th></th>
                <th>Fee per GFA</th>
                <th></th>
                <th>Assessed Fee</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <span data-bind="numericText: fee.resGFA"></span> GFA
                </td>
                <td>*</td>
                <td>
                    <span data-bind="numericText: fee.applicableGFAPercentage"></span>%
                </td>
                <td>*</td>
                <td>
                    <span data-bind="dollarsText: fee.affordableHousingFee"></span>
                </td>
                <td>=</td>
                <td>
                    <span data-bind="dollarsText: fee.calculatedFee"></span>/GFA
                </td>
            </tr>
        </tbody>
    </table>
    <!-- /ko -->
    <!-- ko if: fee.feeApplied() === 'Eastern Neighborhoods Alternate Affordable Housing Fee' -->
    <div class="eastern-affordable-fee-report">
        (Fee calculated manually)
    </div>
    <!-- /ko -->
<!-- /ko -->
<!-- ko if: fee.exemptFromAffordableHousingFee() -->
<h4>This project fulfills affordable housing requirements</h4>
<!-- /ko -->
<!-- /ko -->
