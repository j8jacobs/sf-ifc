<!-- ko if: state === 'form' -->
<form>
    <div class="form-group">
        <h4>Net New Construction or Addition</h4>

        <label for="newEnt">New Entertainment (GFA)</label>
        <input type="number" class="form-control" id="newEnt" placeholder="value" data-bind="value: fee.newEnt, valueUpdate: 'keyup'">
        <label for="hotelGFA">New Hotel (GFA) (fill in on previous page)</label>
        <input type="number" class="form-control" id="hotelGFA" placeholder="value" disabled data-bind="value: fee.hotelGFA">
        <label for="officeGFA">New Office (GFA) (fill in on previous page)</label>
        <input type="number" class="form-control" id="officeGFA" placeholder="value" disabled data-bind="value: fee.officeGFA">
        <label for="newIntegratedPDR">New Integrated PDR (GFA)</label>
        <input type="number" class="form-control" id="newIntegratedPDR" placeholder="value" data-bind="value: fee.newIntegratedPDR, valueUpdate: 'keyup'">
        <label for="newResearchAndDevelopment">New Research and Development (GFA)</label>
        <input type="number" class="form-control" id="newResearchAndDevelopment" placeholder="value" data-bind="value: fee.newResearchAndDevelopment, valueUpdate: 'keyup'">
        <label for="newRetail">New Retail (GFA)</label>
        <input type="number" class="form-control" id="newRetail" placeholder="value" data-bind="value: fee.newRetail, valueUpdate: 'keyup'">
        <label for="newSmallEnterpriseWorkspace">New Small Enterprise Workspace (GFA)</label>
        <input type="number" class="form-control" id="newSmallEnterpriseWorkspace" placeholder="value" data-bind="value: fee.newSmallEnterpriseWorkspace, valueUpdate: 'keyup'">
        <hr>

        <h4>Change or Replacement of Use</h4>

        <h5>PDR which received its First Certificate of Occupancy on or before April 1, 2010 <strong>TO:</strong></h5>

        <label for="oldPDRToEnt">Entertainment (GFA)</label>
        <input type="number" class="form-control" id="oldPDRToEnt" placeholder="value" data-bind="value: fee.oldPDRToEnt, valueUpdate: 'keyup'">
        <label for="oldPDRToHotel">Hotel (GFA)</label>
        <input type="number" class="form-control" id="oldPDRToHotel" placeholder="value" data-bind="value: fee.oldPDRToHotel">
        <label for="oldPDRToOffice">Office (GFA)</label>
        <input type="number" class="form-control" id="oldPDRToOffice" placeholder="value" data-bind="value: fee.oldPDRToOffice">
        <label for="oldPDRToIntegratedPDR">Integrated PDR (GFA)</label>
        <input type="number" class="form-control" id="oldPDRToIntegratedPDR" placeholder="value" data-bind="value: fee.oldPDRToIntegratedPDR, valueUpdate: 'keyup'">
        <label for="oldPDRToResearchAndDevelopment">Research and Development (GFA)</label>
        <input type="number" class="form-control" id="oldPDRToResearchAndDevelopment" placeholder="value" data-bind="value: fee.oldPDRToResearchAndDevelopment, valueUpdate: 'keyup'">
        <label for="oldPDRToRetail">Retail (GFA)</label>
        <input type="number" class="form-control" id="oldPDRToRetail" placeholder="value" data-bind="value: fee.oldPDRToRetail, valueUpdate: 'keyup'">
        <label for="oldPDRToSmallEnterpriseWorkspace">Small Enterprise Workspace (GFA)</label>
        <input type="number" class="form-control" id="oldPDRToSmallEnterpriseWorkspace" placeholder="value" data-bind="value: fee.oldPDRToSmallEnterpriseWorkspace, valueUpdate: 'keyup'">

        <hr>

        <h5>Institutional or PDR which received its First Certificate of Occupancy after April 1, 2010 <strong>TO:</strong></h5>

        <label for="newPDRToEnt">Entertainment (GFA)</label>
        <input type="number" class="form-control" id="newPDRToEnt" placeholder="value" data-bind="value: fee.newPDRToEnt, valueUpdate: 'keyup'">
        <label for="newPDRToHotel">Hotel (GFA)</label>
        <input type="number" class="form-control" id="newPDRToHotel" placeholder="value" data-bind="value: fee.newPDRToHotel">
        <label for="newPDRToOffice">Office (GFA)</label>
        <input type="number" class="form-control" id="newPDRToOffice" placeholder="value" data-bind="value: fee.newPDRToOffice">
        <label for="newPDRToIntegratedPDR">Integrated PDR (GFA)</label>
        <input type="number" class="form-control" id="newPDRToIntegratedPDR" placeholder="value" data-bind="value: fee.newPDRToIntegratedPDR, valueUpdate: 'keyup'">
        <label for="newPDRToResearchAndDevelopment">Research and Development (GFA)</label>
        <input type="number" class="form-control" id="newPDRToResearchAndDevelopment" placeholder="value" data-bind="value: fee.newPDRToResearchAndDevelopment, valueUpdate: 'keyup'">
        <label for="newPDRToRetail">Retail (GFA)</label>
        <input type="number" class="form-control" id="newPDRToRetail" placeholder="value" data-bind="value: fee.newPDRToRetail, valueUpdate: 'keyup'">
        <label for="newPDRToSmallEnterpriseWorkspace">Small Enterprise Workspace (GFA)</label>
        <input type="number" class="form-control" id="newPDRToSmallEnterpriseWorkspace" placeholder="value" data-bind="value: fee.newPDRToSmallEnterpriseWorkspace, valueUpdate: 'keyup'">

        <hr>

        <h5>Residential <strong>TO:</strong></h5>

        <label for="resToEnt">Entertainment (GFA)</label>
        <input type="number" class="form-control" id="resToEnt" placeholder="value" data-bind="value: fee.resToEnt, valueUpdate: 'keyup'">
        <label for="resToHotel">Hotel (GFA)</label>
        <input type="number" class="form-control" id="resToHotel" placeholder="value" data-bind="value: fee.resToHotel">
        <label for="resToOffice">Office (GFA)</label>
        <input type="number" class="form-control" id="resToOffice" placeholder="value" data-bind="value: fee.resToOffice">
        <label for="resToIntegratedPDR">Integrated PDR (GFA)</label>
        <input type="number" class="form-control" id="resToIntegratedPDR" placeholder="value" data-bind="value: fee.resToIntegratedPDR, valueUpdate: 'keyup'">
        <label for="resToResearchAndDevelopment">Research and Development (GFA)</label>
        <input type="number" class="form-control" id="resToResearchAndDevelopment" placeholder="value" data-bind="value: fee.resToResearchAndDevelopment, valueUpdate: 'keyup'">
        <label for="resToRetail">Retail (GFA)</label>
        <input type="number" class="form-control" id="resToRetail" placeholder="value" data-bind="value: fee.resToRetail, valueUpdate: 'keyup'">
        <label for="resToSmallEnterpriseWorkspace">Small Enterprise Workspace (GFA)</label>
        <input type="number" class="form-control" id="resToSmallEnterpriseWorkspace" placeholder="value" data-bind="value: fee.resToSmallEnterpriseWorkspace, valueUpdate: 'keyup'">

        <hr>

        <label for="feeCredit">Fee credit ($)</label>
        <input type="number" class="form-control" id="feeCredit" placeholder="value" data-bind="value: fee.feeCredit, valueUpdate: 'keyup'">

    </div>
</form>
<!-- /ko -->

<!-- ko if: state === 'report' && fee.triggered() -->
<table class="table">
    <thead>
        <tr>
            <th>
                <h4>New Construction</h4>
            </th>
            <th>GFA</th>
            <th></th>
            <th>Fee per GFA</th>
            <th></th>
            <th>Assessed Fee</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th scope="row">Entertainment</th>
            <td>
                <span data-bind="numericText: fee.entNewPortion"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewEntertainment"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.entNewPortion() * fee.feePerNewEntertainment"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Hotel</th>
            <td>
                <span data-bind="numericText: fee.hotelNewPortion"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewHotel"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.hotelNewPortion() * fee.feePerNewHotel"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Integrated PDR</th>
            <td>
                <span data-bind="numericText: fee.integratedPDRNewPortion"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewIntegratedPDR"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.integratedPDRNewPortion() * fee.feePerNewIntegratedPDR"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Office</th>
            <td>
                <span data-bind="numericText: fee.officeNewPortion"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewOffice"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.officeNewPortion() * fee.feePerNewOffice"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">New Research and Development</th>
            <td>
                <span data-bind="numericText: fee.researchAndDevelopmentNewPortion"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewResearchAndDevelopment"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.researchAndDevelopmentNewPortion() * fee.feePerNewResearchAndDevelopment"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Retail</th>
            <td>
                <span data-bind="numericText: fee.retailNewPortion"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewRetail"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.retailNewPortion() * fee.feePerNewRetail"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Small Enterprise Workspace</th>
            <td>
                <span data-bind="numericText: fee.smallEnterpriseWorkspaceNewPortion"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewSmallEnterpriseWorkspace"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.smallEnterpriseWorkspaceNewPortion() * fee.feePerNewSmallEnterpriseWorkspace"></span>
            </td>
        </tr>

        <tr>
            <th>
                <h4>Change or Replacement of Use</h4>
            </th>
        </tr>
        <tr>
            <th>
                <h5>PDR which received its First Certificate of Occupancy on or before April 1, 2010 <strong>TO:</strong></h5>
            </th>
            <th>GFA</th>
            <th></th>
            <th>Fee per GFA</th>
            <th></th>
            <th>Assessed Fee</th>
        </tr>
        <tr>
            <th scope="row">Entertainment</th>
            <td>
                <span data-bind="numericText: fee.oldPDRToEnt"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.oldFeePerNewEntertainment"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.oldPDRToEnt() * fee.oldFeePerNewEntertainment"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Hotel</th>
            <td>
                <span data-bind="numericText: fee.oldPDRToHotel"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.oldFeePerNewHotel"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.oldPDRToHotel() * fee.oldFeePerNewHotel"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Integrated PDR</th>
            <td>
                <span data-bind="numericText: fee.oldPDRToIntegratedPDR"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.oldFeePerNewIntegratedPDR"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.oldPDRToIntegratedPDR() * fee.oldFeePerNewIntegratedPDR"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Office</th>
            <td>
                <span data-bind="numericText: fee.oldPDRToOffice"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.oldFeePerNewOffice"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.oldPDRToOffice() * fee.oldFeePerNewOffice"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">New Research and Development</th>
            <td>
                <span data-bind="numericText: fee.oldPDRToResearchAndDevelopment"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.oldFeePerNewResearchAndDevelopment"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.oldPDRToResearchAndDevelopment() * fee.oldFeePerNewResearchAndDevelopment"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Retail</th>
            <td>
                <span data-bind="numericText: fee.oldPDRToRetail"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.oldFeePerNewRetail"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.oldPDRToRetail() * fee.oldFeePerNewRetail"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Small Enterprise Workspace</th>
            <td>
                <span data-bind="numericText: fee.oldPDRToSmallEnterpriseWorkspace"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.oldFeePerNewSmallEnterpriseWorkspace"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.oldPDRToSmallEnterpriseWorkspace() * fee.oldFeePerNewSmallEnterpriseWorkspace"></span>
            </td>
        </tr>
        <tr>
            <th>
                <h5>Institutional or PDR which received its First Certificate of Occupancy after April 1, 2010 <strong>TO:</strong></h5>
            </th>
            <th>GFA</th>
            <th></th>
            <th>Fee per GFA</th>
            <th></th>
            <th>Assessed Fee</th>
        </tr>
        <tr>
            <th scope="row">Entertainment</th>
            <td>
                <span data-bind="numericText: fee.newPDRToEnt"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewEntertainment"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.newPDRToEnt() * fee.feePerNewEntertainment"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Hotel</th>
            <td>
                <span data-bind="numericText: fee.newPDRToHotel"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewHotel"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.newPDRToHotel() * fee.feePerNewHotel"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Integrated PDR</th>
            <td>
                <span data-bind="numericText: fee.newPDRToIntegratedPDR"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewIntegratedPDR"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.newPDRToIntegratedPDR() * fee.feePerNewIntegratedPDR"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Office</th>
            <td>
                <span data-bind="numericText: fee.newPDRToOffice"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewOffice"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.newPDRToOffice() * fee.feePerNewOffice"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">New Research and Development</th>
            <td>
                <span data-bind="numericText: fee.newPDRToResearchAndDevelopment"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewResearchAndDevelopment"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.newPDRToResearchAndDevelopment() * fee.feePerNewResearchAndDevelopment"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Retail</th>
            <td>
                <span data-bind="numericText: fee.newPDRToRetail"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewRetail"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.newPDRToRetail() * fee.feePerNewRetail"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Small Enterprise Workspace</th>
            <td>
                <span data-bind="numericText: fee.newPDRToSmallEnterpriseWorkspace"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewSmallEnterpriseWorkspace"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.newPDRToSmallEnterpriseWorkspace() * fee.feePerNewSmallEnterpriseWorkspace"></span>
            </td>
        </tr>
        <tr>
            <th>
                <h5>Residential <strong>TO:</strong></h5>
            </th>
            <th>GFA</th>
            <th></th>
            <th>Fee per GFA</th>
            <th></th>
            <th>Assessed Fee</th>
        </tr>
        <tr>
            <th scope="row">Entertainment</th>
            <td>
                <span data-bind="numericText: fee.resToEnt"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewEntertainment"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.resToEnt() * fee.feePerNewEntertainment"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Hotel</th>
            <td>
                <span data-bind="numericText: fee.resToHotel"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewHotel"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.resToHotel() * fee.feePerNewHotel"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Integrated PDR</th>
            <td>
                <span data-bind="numericText: fee.resToIntegratedPDR"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewIntegratedPDR"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.resToIntegratedPDR() * fee.feePerNewIntegratedPDR"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Office</th>
            <td>
                <span data-bind="numericText: fee.resToOffice"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewOffice"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.resToOffice() * fee.feePerNewOffice"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">New Research and Development</th>
            <td>
                <span data-bind="numericText: fee.resToResearchAndDevelopment"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewResearchAndDevelopment"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.resToResearchAndDevelopment() * fee.feePerNewResearchAndDevelopment"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Retail</th>
            <td>
                <span data-bind="numericText: fee.resToRetail"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewRetail"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.resToRetail() * fee.feePerNewRetail"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Small Enterprise Workspace</th>
            <td>
                <span data-bind="numericText: fee.resToSmallEnterpriseWorkspace"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.feePerNewSmallEnterpriseWorkspace"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.resToSmallEnterpriseWorkspace() * fee.feePerNewSmallEnterpriseWorkspace"></span>
            </td>
        </tr>
        <tr>
            <th></th>
            <th>Fee before credits</th>
            <th></th>
            <th>Fee credit</th>
            <th></th>
            <th>Final Fee</th>
        </tr>
        <tr>
            <th scope="row">Fee calculation</th>
            <td>
                <span data-bind="dollarsText: fee.uncreditedFee"></span>
            </td>
            <td>-</td>
            <td>
                <span data-bind="dollarsText: fee.feeCredit"></span>
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.calculatedFee"></span>
            </td>
        </tr>
    </tbody>
</table>
<!-- /ko -->
