<!-- ko if: state === 'form' -->
<form>
    <div class="form-group">
        <h4>New Square Footage</h4>

        <label for="retailGFA">New Retail Space (GFA, 1/<span data-bind="numericText: fee.openSpaceReqPerRetail"></span> GFA open space required)</label>
        <input type="number" class="form-control" id="retailGFA" data-bind="value: fee.retailGFA, valueUpdate: 'keyup'">

        <label for="newManufacturing">New Manufacturing Space (GFA, 1/<span data-bind="numericText: fee.openSpaceReqPerManufacturing"></span> GFA open space required)</label>
        <input type="number" class="form-control" id="newManufacturing" data-bind="value: fee.newManufacturing, valueUpdate: 'keyup'">

        <hr>
        <div class="">
            Total open space required: <span data-bind="numericText: fee.openSpaceRequired"></span> GFA
        </div>
        <input type="checkbox" id="paySomaOSFee" data-bind="checked: fee.paySomaFee">
        <label for="paySomaOSFee">Pay this fee (<span data-bind="dollarsText: fee.feeIfRequired"></span>) in lieu of providing the required open space?</label>

    </div>
</form>
<!-- /ko -->

<!-- ko if: state === 'report' && fee.triggered() -->
<table class="table">
    <thead>
        <tr>
            <th>
                <h4>New Construction</h4>
            </th>
            <th>GFA</th>
            <th></th>
            <th>SqFt of Open Space per GFA</th>
            <th></th>
            <th>Required Open Space (SqFt)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th scope="row">Retail</th>
            <td>
                <span data-bind="numericText: fee.retailGFA"></span> GFA
            </td>
            <td>*</td>
            <td>
                1 / <span data-bind="numericText: fee.openSpaceReqPerRetail"></span> GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="numericText: fee.retailGFA() / fee.openSpaceReqPerRetail"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Manufacturing</th>
            <td>
                <span data-bind="numericText: fee.newManufacturing"></span> GFA
            </td>
            <td>*</td>
            <td>
                1 / <span data-bind="numericText: fee.openSpaceReqPerManufacturing"></span> GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="numericText: fee.newManufacturing() / fee.openSpaceReqPerManufacturing"></span>
            </td>
        </tr>
        <tr>
            <th scope="row">Office</th>
            <td>
                <span data-bind="numericText: fee.officeGFA"></span> GFA
            </td>
            <td>*</td>
            <td>
                1 / <span data-bind="numericText: fee.openSpaceReqPerOffice"></span> GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="numericText: fee.officeGFA() / fee.openSpaceReqPerOffice"></span>
            </td>
        </tr>
    </tbody>
</table>

<!-- ko if: fee.paySomaFee() -->
<table class="table">
    <thead>
        <tr>
            <th>
                <h4>In lieu fee applied</h4>
            </th>
            <th>Open space required</th>
            <th></th>
            <th>Fee per GFA</th>
            <th></th>
            <th>Assessed Fee</th>
        </tr>
    </thead>
        <tr>
            <td></td>
            <td>
                <span data-bind="numericText: fee.openSpaceRequired"></span> GFA
            </td>
            <td>*</td>
            <td>
                <span data-bind="dollarsText: fee.costMultiplier"></span>/GFA
            </td>
            <td>=</td>
            <td>
                <span data-bind="dollarsText: fee.calculatedFee"></span>/GFA
            </td>
        </tr>
    </tbody>
</table>
<!-- /ko -->

<!-- ko if: !fee.paySomaFee() -->
<h4>Project required to provide <span data-bind="numericText: fee.openSpaceRequired"></span> GFA of open space in lieu of paying fee.</h4>
<!-- /ko -->
<!-- /ko -->
