<!-- ko if: state === 'form' -->
<form>
    <div class="form-group">
        <h4>Net New Additions (GFA)</h4>

        <label for="retailGFA">New Retail (GFA)</label>
        <input type="number" class="form-control" id="retailGFA" data-bind="value: fee.retailGFA, valueUpdate: 'keyup'">

        <label for="hotelGFA">New Hotel (GFA)</label>
        <input type="number" class="form-control" id="hotelGFA" data-bind="value: fee.hotelGFA, valueUpdate: 'keyup'">

        <label for="institutionalGFA">New Institutional/Cultural/Medical (GFA)</label>
        <input type="number" class="form-control" id="institutionalGFA" data-bind="value: fee.institutionalGFA, valueUpdate: 'keyup'">

        <label for="industrialGFA">New Industrial (GFA)</label>
        <input type="number" class="form-control" id="industrialGFA" data-bind="value: fee.industrialGFA, valueUpdate: 'keyup'">

        <h4>Area Measurements</h4>

        <label for="parcelArea">Parcel Area (Sq Ft)</label>
        <input type="number" class="form-control" id="parcelArea" data-bind="value: fee.parcelArea, valueUpdate: 'keyup'">
    </div>
</form>
<!-- /ko -->

<!-- ko if: state === 'report' && fee.triggered() -->
<table class="table">
    <thead>
        <tr>
            <th>Use</th>
            <th>Fee type</th>
            <th>GFA</th>
            <th></th>
            <th>Fee per GFA</th>
            <th></th>
            <th>Assessed Fee</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th colspan=7>
                <h5>Residential</h5>
            </th>
        </tr>
        <tr>
            <td></td>
            <th scope="row">Base</th>
            <td data-bind="numericText: fee.resGFA"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.resBaseFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.resGFA() * fee.resBaseFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">Mitigation</th>
            <td data-bind="numericText: fee.resGFA"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.resMitigationFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.resGFA() * fee.resMitigationFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">FAR &gt; 9:1</th>
            <td data-bind="numericText: fee.getGFAAboveFAR(fee.resGFA(), 9)"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.resFARFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.getGFAAboveFAR(fee.resGFA(), 9) * fee.resFARFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">FAR &gt; 18:1</th>
            <td data-bind="numericText: fee.getGFAAboveFAR(fee.resGFA(), 18)"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.resFARFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.getGFAAboveFAR(fee.resGFA(), 18) * fee.resFARFee2"></td>
        </tr>
        <tr>
            <th colspan=7>
                <h5>Office</h5>
            </th>
        </tr>
        <tr>
            <td></td>
            <th scope="row">Base</th>
            <td data-bind="numericText: fee.officeGFA"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.officeBaseFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.officeGFA() * fee.officeBaseFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">Mitigation</th>
            <td data-bind="numericText: fee.officeGFA"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.officeMitigationFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.officeGFA() * fee.officeMitigationFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">FAR &gt; 9:1</th>
            <td data-bind="numericText: fee.getGFAAboveFAR(fee.officeGFA(), 9)"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.officeFARFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.getGFAAboveFAR(fee.officeGFA(), 9) * fee.officeFARFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">FAR &gt; 18:1</th>
            <td data-bind="numericText: fee.getGFAAboveFAR(fee.officeGFA(), 18)"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.officeFARFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.getGFAAboveFAR(fee.officeGFA(), 18) * fee.officeFARFee2"></td>
        </tr>
        <tr>
            <th colspan=7>
                <h5>Retail</h5>
            </th>
        </tr>
        <tr>
            <td></td>
            <th scope="row">Base</th>
            <td data-bind="numericText: fee.retailGFA"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.retailBaseFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.retailGFA() * fee.retailBaseFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">Mitigation</th>
            <td data-bind="numericText: fee.retailGFA"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.retailMitigationFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.retailGFA() * fee.retailMitigationFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">FAR &gt; 9:1</th>
            <td data-bind="numericText: fee.getGFAAboveFAR(fee.retailGFA(), 9)"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.retailFARFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.getGFAAboveFAR(fee.retailGFA(), 9) * fee.retailFARFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">FAR &gt; 18:1</th>
            <td data-bind="numericText: fee.getGFAAboveFAR(fee.retailGFA(), 18)"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.retailFARFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.getGFAAboveFAR(fee.retailGFA(), 18) * fee.retailFARFee2"></td>
        </tr>
        <tr>
            <th colspan=7>
                <h5>Hotel</h5>
            </th>
        </tr>
        <tr>
            <td></td>
            <th scope="row">Base</th>
            <td data-bind="numericText: fee.hotelGFA"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.hotelBaseFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.hotelGFA() * fee.hotelBaseFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">Mitigation</th>
            <td data-bind="numericText: fee.hotelGFA"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.hotelMitigationFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.hotelGFA() * fee.hotelMitigationFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">FAR &gt; 9:1</th>
            <td data-bind="numericText: fee.getGFAAboveFAR(fee.hotelGFA(), 9)"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.hotelFARFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.getGFAAboveFAR(fee.hotelGFA(), 9) * fee.hotelFARFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">FAR &gt; 18:1</th>
            <td data-bind="numericText: fee.getGFAAboveFAR(fee.hotelGFA(), 18)"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.hotelFARFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.getGFAAboveFAR(fee.hotelGFA(), 18) * fee.hotelFARFee2"></td>
        </tr>
        <tr>
            <th colspan=7>
                <h5>Institutional/Cultural/Medical</h5>
            </th>
        </tr>
        <tr>
            <td></td>
            <th scope="row">Base</th>
            <td data-bind="numericText: fee.institutionalGFA"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.institutionalBaseFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.institutionalGFA() * fee.institutionalBaseFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">Mitigation</th>
            <td data-bind="numericText: fee.institutionalGFA"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.institutionalMitigationFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.institutionalGFA() * fee.institutionalMitigationFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">FAR &gt; 9:1</th>
            <td data-bind="numericText: fee.getGFAAboveFAR(fee.institutionalGFA(), 9)"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.institutionalFARFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.getGFAAboveFAR(fee.institutionalGFA(), 9) * fee.institutionalFARFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">FAR &gt; 18:1</th>
            <td data-bind="numericText: fee.getGFAAboveFAR(fee.institutionalGFA(), 18)"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.institutionalFARFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.getGFAAboveFAR(fee.institutionalGFA(), 18) * fee.institutionalFARFee2"></td>
        </tr>
        <tr>
            <th colspan=7>
                <h5>Industrial</h5>
            </th>
        </tr>
        <tr>
            <td></td>
            <th scope="row">Base</th>
            <td data-bind="numericText: fee.industrialGFA"></td>
            <td>*</td>
            <td data-bind="dollarsText: fee.industrialBaseFee"></td>
            <td>=</td>
            <td data-bind="dollarsText: fee.industrialGFA() * fee.industrialBaseFee"></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">Mitigation</th>
            <td>N/A</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">FAR &gt; 9:1</th>
            <td>N/A</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <th scope="row">FAR &gt; 18:1</th>
            <td>N/A</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </tbody>
</table>
<!-- /ko -->
